# Työaikakirjanpito


| päivä | aika | mitä tein |
| :----:|:-----| :--------|
| 23.3  |11:20-13:38| Tein määrittelydokumenttia ja alustin maven -projektin. Pitää sisällään ruokatauon|
| 28.3  |10:00-11:20| Yritin selvitellä, miten kartan perustason generoiminen kohinalla onnistuisi ja miten esittäisin dataani. Selvitin, että OpenCV on työmaa asentaa ja vaikka se oli Pythonista tuttu, niin se olisi liian tuskallinen saada toimimaan Javalla. Pyörittelen varmaankin double[][] -taulukoita ja BufferedImageja. Kohinan tuottaminen itse tuntuu yllättävän isolta algorytmiseltä haasteelta, joten etsin käsiini valmiin kirjaston.|
| 28.3  |11:20-12:10| Taistelu mavenia ja nixiä vastaan että saisin java11-pohjaisen jdk:n yhteispeliin mavenin kanssa. Ajattelin tehdä kaiken tässä projektissa komentoriviltä käsin ja tämä oli yllättävän suuri työmaa.|
| 28.3  |12:10-19:30| Toteutin karttaluokan ja sellaisen Main-luokan, että pystyin tekemään testejä. Kartaluokkaan tuli mahdollisuus tuottaa maastoa Perlinin kohinalla. Toteutin myös ensimmäisenä päivänä eroosioalgorytmin. Tässä vaiheessa ohjelma sai aikaan kiinnostavan näköisiä laaksoja, mutta en saanut parametreja säätämällä aikaan DND-kartalle sopivaa suurempaa mittakaavaa. Sain aikaan myös muutaman testin.|
| 31.3  |10:00-19:15| Muutin karttaluokan toiminnallisuutta merkittävästi. Nykyversio ei enää ylikirjoitu Perlinin kohinalla vaan lisää sen olemassa olevaan maastoon. Tämä yhdistettynä uuden merenpintaominaisuuden kanssa mahdollistaa korkeataajuisen vuoriston tuottamisen, siitä pelkästään huippujen säästämisen, päälle matalataajuisten pinnanmuotojen laskemisen, eroosion simuloimisen ja lopulta merenpinnan katkaisun. Tällä reseptillä tuntuu syntyvän kiinnostavia maisemia. Toteutin nyt karttaluokkaan myös siemenarvon muuttamisen. Mainissä on nyt jonkinlaisen CLI-ohjelman runko. Siihen syötetään parametrit ja se generoi korkeuskartan. Päivitin vielä testit vastaamaan koodia ja olemaan osapuilleen järkevät.|
| 4.4 | 13:30-22:00 | Rakensin sovellukselle GUIn. Selvitin, miten JFX pelaa yhteen mavenin kanssa. Laitoksen etävirtualisaation alla tämä jopa suostui toimimaan, mutta en tiedä miten saisin JFX:n tiedostovalikot kuntoon omalla käyttiksellä. Koodissa on yksi ilmeinen ja handlaamaton tapa saada aikaan null pointer -virhe: jos yrittää tallentaa kuvaa ennen kuin se on generoitu niin alkanee paukkua. |
| 6.4 | 0:00-0:45 | Sain sovelluksen toimimaan omalla koneella, korjasin ym. null pointer -virheen ja skaalasin hieman käyttöliittymää. |
| 6.4 | 12:00-22:00 | Checkstylesin projektin, tein arkkitehtuurikuvan, päivitin dokumentaatiota, väänsin Jacocon ekskluhoimaan sen mitä pyydettiin, poistin kuollutta koodia ja korjailin muuttujien näkyvyyksiä. |
| 18.4 | 13:00-15:40 | Korjasin tavoitemäärittelyä sen valossa, mikä oli osoittautunut fiksummaksi kun konkreettista sovellusta oli syntynyt. Askartelin sitten tiedoston tallentamista ja avaamista ynnä perumista ja uudelleen tekemistä varten vaadittavaa refaktorointia ja näkymättömiä palikoita (tiedostoa mallintavaa oliota ja staattisen tilaolion). Hakkasin päätä seinaan JavaFX:n sliderien kanssa (osa 1): miten saada tieto siitä, että sliderin arvo on muuttunut. Helpot tavat olivat liian herkkiä (livepäivitys) tai liian laveita (vedon loppuminen: sliderille voi asettaa arvon kertanapsautuksella)|
| 19.4 | 12:40-16:20 | Virittelin käyttöliittymän käyttämään sisäisesti tiedostomalliani. Hakkasin päätä lisää seinään sliderien suhteen ja päädyin tökeröön mutta toimivaan ratkaisuun. Samaa jatkui tekstikentän puljauksen kanssa. Lopulta sain kuitenkin aikaan suhteellisen järkeistetyn tavan havaita muutokset arvoihin ja tehdä niistä perumishistoria. Toteutin sitten perumisen käyttöliittymän puolelta ja yhdistin senkin tiedostomalliin. Toteutin sitten tallentamisen: päädyin työtiedostojen JSON-serialisointiin koska sen avulla debugaus helpottuu merkittävästi suhteessa binääriserialisointiin. Tulevaisuudessa voisi miettiä jotain versiointiskeemaa. Järkeistin myös hieman käyttöliittymää lisäämällä yläpalkin tallentamiselle ja eksporttaamiselle. Nyt on perusversio kasassa ja tekemättä on testejä, dokumentaatiota ja pikkusälää. |
| 26.4 | 12:00-19:05 | Toteutin viikon uuden ominaisuuden: nyt MapApp pystyy suoraan tuottamaan 3D-mallin kartasta. Räpelsin muutaman testin, päivitin hieman dokumentaatiota ja lisäsin virheen hallintaa tiedostojen kanssa puljaamiseen. |
| 27.4 | 10:30-17:30 | Tein Javadocin kaikesta olemassa olevasta. Tein jonkinverran koodinkaunistelua, checkstylensin koodini. Virittelin ohjelman tarjoamaan oikeita tiedostomuotoja siellä missä mahdollista. Toteutin dokumentaatioon käyttöohjeet ja arkkitehtuuridiagrammin. Päivitin tavoitedokumenttia ja vetäisin README.md-tiedoston uuteen uskoon. |

Yhteensä: 56h 33min
